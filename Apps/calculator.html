<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=SF+Pro+Display:wght@300;400;500;600&display=swap"
            rel="stylesheet"
        />
        
        <title>Calculator</title>
        <link rel="stylesheet" href="cal_styles.css">
    </head>
    <body>
        <header class="main-header">
            <h2 class="set-subtitles-font">Calculator</h2>
        </header>

        <div class="calculator">

        <input id="display" type="text" disabled class="display">

        <div class="calc">
            <button class="grey_but" onclick="clearAll()">AC</button>
            <button class="grey_but">+/-</button>
            <button class="grey_but">%</button>
            <button class="orange_but" onclick="chooseOperator('/')"><i class="fa-solid fa-divide"></i></button>

            <button class="dark_but" onclick="addNumber('7')">7</button>
            <button class="dark_but" onclick="addNumber('8')">8</button>
            <button class="dark_but" onclick="addNumber('9')">9</button>
            <button class="orange_but" onclick="chooseOperator('*')"><i class="fa-solid fa-xmark"></i></button>

            <button class="dark_but" onclick="addNumber('4')">4</button>
            <button class="dark_but" onclick="addNumber('5')">5</button>
            <button class="dark_but" onclick="addNumber('6')">6</button>
            <button class="orange_but" onclick="chooseOperator('-')"><i class="fa-solid fa-minus"></i></button>

            <button class="dark_but" onclick="addNumber('1')">1</button>
            <button class="dark_but" onclick="addNumber('2')">2</button>
            <button class="dark_but" onclick="addNumber('3')">3</button>
            <button class="orange_but" onclick="chooseOperator('+')"><i class="fa-solid fa-plus"></i></button>

            <button class="dark_but"><i class="fa-solid fa-calculator"></i></button>
            <button class="dark_but" onclick="addNumber('0')">0</button>
            <button class="dark_but">,</button>
            <button class="orange_but" onclick="calculate()"><i class="fa-solid fa-equals"></i></button>
        </div>
    </div>

    <script>
    
        let display = document.getElementById("display");
        let currentNumber = "";
        let previousNumber = "";
        let operator = "";


        function addNumber(num) {
            currentNumber = currentNumber + num;
            display.value = currentNumber;
        }


        function chooseOperator(op) {
            if (currentNumber === "") {
                return; 
            }
            operator = op;
            previousNumber = currentNumber;
            currentNumber = "";
        }


        function clearAll() {
            currentNumber = "";
            previousNumber = "";
            operator = "";
            display.value = "";
        }


        function calculate() {
            let result = 0;

            let n1 = parseFloat(previousNumber);
            let n2 = parseFloat(currentNumber);

            if (operator === "+") {
                result = n1 + n2;
            }
            else if (operator === "-") {
                result = n1 - n2;
            }
            else if (operator === "*") {
                result = n1 * n2;
            }
            else if (operator === "/") {
                if (n2 === 0) {
                    display.value = "Error";
                    return;
                }
                result = n1 / n2;
            }

            display.value = result;
            currentNumber = String(result);
            previousNumber = "";
            operator = "";
        }

    </script>

    </body>
</html>